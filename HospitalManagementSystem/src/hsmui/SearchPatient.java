/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package hsmui;

import hsmmodel.Patient;
import hsmmodel.PatientDirectory;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author prathamesh
 */
public class SearchPatient extends javax.swing.JPanel {

    /**
     * Creates new form SearchPatient
     */
    PatientDirectory ptnDir;
    public SearchPatient(PatientDirectory ptnDir) {
        initComponents();
        this.ptnDir = ptnDir;
        
        populateTable();
    }

    private void populateTable(){
        
        DefaultTableModel model = (DefaultTableModel) Table4.getModel();
        model.setRowCount(0);
        
        for(Patient ptn : ptnDir.getPatientDirectory()){
            
            Object[] row = new Object[4];
            row[0] = ptn;
            row[1] = ptn.getName();
            row[2] = ptn.getAge();
            row[3] = ptn.getGender();
            
            model.addRow(row);
        }
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        txtbx_contact = new javax.swing.JTextField();
        ContactLabel4 = new javax.swing.JLabel();
        PersonalInfoLabel9 = new javax.swing.JLabel();
        AgeLabel8 = new javax.swing.JLabel();
        txtbx_id = new javax.swing.JTextField();
        jScrollPane5 = new javax.swing.JScrollPane();
        Table4 = new javax.swing.JTable();
        txtbx_age = new javax.swing.JTextField();
        btnSearch1 = new javax.swing.JButton();
        txtbx_search = new javax.swing.JTextField();
        EmailLabel4 = new javax.swing.JLabel();
        txtbx_email = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        NewEmployeeLabel4 = new javax.swing.JLabel();
        PersonalInfoLabel8 = new javax.swing.JLabel();
        btn_view4 = new javax.swing.JButton();
        AgeLabel7 = new javax.swing.JLabel();
        GenderLabel4 = new javax.swing.JLabel();
        txtbx_gender = new javax.swing.JTextField();
        txtbx_name = new javax.swing.JTextField();
        NameLabel9 = new javax.swing.JLabel();
        AgeLabel1 = new javax.swing.JLabel();
        txtbx_height = new javax.swing.JTextField();
        AgeLabel2 = new javax.swing.JLabel();
        txtbx_weight = new javax.swing.JTextField();
        AgeLabel3 = new javax.swing.JLabel();
        txtbx_bloodgroup = new javax.swing.JTextField();

        ContactLabel4.setText("Contact");

        PersonalInfoLabel9.setFont(new java.awt.Font("Lucida Grande", 1, 14)); // NOI18N
        PersonalInfoLabel9.setText("Conatct Information");

        AgeLabel8.setText("Patient ID");

        Table4.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Patient ID", "Name", "Age", "Gender"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane5.setViewportView(Table4);

        btnSearch1.setFont(new java.awt.Font("Lucida Grande", 1, 18)); // NOI18N
        btnSearch1.setText("Search");
        btnSearch1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearch1ActionPerformed(evt);
            }
        });

        txtbx_search.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtbx_searchActionPerformed(evt);
            }
        });

        EmailLabel4.setText("Email Id");

        txtbx_email.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtbx_emailActionPerformed(evt);
            }
        });

        jLabel19.setFont(new java.awt.Font("Lucida Grande", 1, 18)); // NOI18N
        jLabel19.setText("Patient ID:");

        NewEmployeeLabel4.setFont(new java.awt.Font("Lucida Grande", 1, 24)); // NOI18N
        NewEmployeeLabel4.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        NewEmployeeLabel4.setText("Patient History");

        PersonalInfoLabel8.setFont(new java.awt.Font("Lucida Grande", 1, 14)); // NOI18N
        PersonalInfoLabel8.setText("Personal Details");

        btn_view4.setFont(new java.awt.Font("Lucida Grande", 1, 18)); // NOI18N
        btn_view4.setText("View");
        btn_view4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_view4ActionPerformed(evt);
            }
        });

        AgeLabel7.setText("Age");

        GenderLabel4.setText("Gender");

        NameLabel9.setText("Name");

        AgeLabel1.setText("Height");

        AgeLabel2.setText("Weight");

        AgeLabel3.setText("Blood Group");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(235, 235, 235)
                .addComponent(jLabel19)
                .addGap(18, 18, 18)
                .addComponent(txtbx_search, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(44, 44, 44)
                .addComponent(btnSearch1, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(235, 235, 235))
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(322, 322, 322)
                        .addComponent(NewEmployeeLabel4))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(701, 701, 701)
                        .addComponent(btn_view4, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(55, 55, 55)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(layout.createSequentialGroup()
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(GenderLabel4)
                                        .addComponent(AgeLabel7)
                                        .addComponent(AgeLabel8)
                                        .addComponent(NameLabel9))
                                    .addGap(34, 34, 34)
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(txtbx_gender)
                                        .addComponent(txtbx_age, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(txtbx_id, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(txtbx_name, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                        .addComponent(PersonalInfoLabel9)
                                        .addGap(49, 49, 49))
                                    .addComponent(ContactLabel4))
                                .addComponent(PersonalInfoLabel8))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(EmailLabel4)
                                .addGap(44, 44, 44)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(txtbx_contact)
                                    .addComponent(txtbx_email, javax.swing.GroupLayout.PREFERRED_SIZE, 124, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(35, 35, 35)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(AgeLabel1)
                            .addComponent(AgeLabel2)
                            .addComponent(AgeLabel3))
                        .addGap(83, 83, 83)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtbx_height, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtbx_weight, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtbx_bloodgroup, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 834, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(17, 17, 17))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(NewEmployeeLabel4)
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtbx_search, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnSearch1, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(37, 37, 37)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btn_view4)
                .addGap(23, 23, 23)
                .addComponent(PersonalInfoLabel8)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(NameLabel9)
                            .addComponent(txtbx_name, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(GenderLabel4)
                            .addComponent(txtbx_gender, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(AgeLabel7)
                            .addComponent(txtbx_age, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(AgeLabel1)
                            .addComponent(txtbx_height, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(6, 6, 6)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(AgeLabel2)
                            .addComponent(txtbx_weight, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(6, 6, 6)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(AgeLabel3)
                            .addComponent(txtbx_bloodgroup, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(AgeLabel8)
                    .addComponent(txtbx_id, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(PersonalInfoLabel9)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ContactLabel4)
                    .addComponent(txtbx_contact, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtbx_email, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(EmailLabel4))
                .addContainerGap(263, Short.MAX_VALUE))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void txtbx_searchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtbx_searchActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtbx_searchActionPerformed

    private void txtbx_emailActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtbx_emailActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtbx_emailActionPerformed

    private void btn_view4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_view4ActionPerformed
        // TODO add your handling code here:
        int row = Table4.getSelectedRow();

        if(row<0){
            JOptionPane.showMessageDialog(this, "Please select a ROW to search ");
            return;
        }

        DefaultTableModel model = (DefaultTableModel) Table4.getModel();
        Patient selectedPatient = (Patient)model.getValueAt(row, 0);


        txtbx_id.setText(selectedPatient.getPatiendId());
        txtbx_name.setText(selectedPatient.getName());
        txtbx_email.setText(selectedPatient.getEmail());
        txtbx_contact.setText(selectedPatient.getContact());
        txtbx_gender.setText(selectedPatient.getGender());
        txtbx_age.setText(selectedPatient.getAge());
        txtbx_height.setText(selectedPatient.getHeight());
        txtbx_weight.setText(selectedPatient.getWeight());
        txtbx_bloodgroup.setText(selectedPatient.getBloodGroup());
    }//GEN-LAST:event_btn_view4ActionPerformed

    private void btnSearch1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearch1ActionPerformed
        // TODO add your handling code here:
        
        String search = txtbx_search.getText();
            
        DefaultTableModel model = (DefaultTableModel) Table4.getModel();
        model.setRowCount(0);
        
        for(Patient emp : ptnDir.getPatientDirectory()){
            if(search.equals(emp.getPatiendId())){ 
            Object[] row = new Object[4];
            row[0] = emp;
            row[1] = emp.getName();
            row[2] = emp.getAge();
            row[3] = emp.getGender();
            
            model.addRow(row);
            }else{
//                JOptionPane.showMessageDialog(this, "Invalid Data!");
            }
        }
    }//GEN-LAST:event_btnSearch1ActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel AgeLabel1;
    private javax.swing.JLabel AgeLabel2;
    private javax.swing.JLabel AgeLabel3;
    private javax.swing.JLabel AgeLabel7;
    private javax.swing.JLabel AgeLabel8;
    private javax.swing.JLabel ContactLabel4;
    private javax.swing.JLabel EmailLabel4;
    private javax.swing.JLabel GenderLabel4;
    private javax.swing.JLabel NameLabel9;
    private javax.swing.JLabel NewEmployeeLabel4;
    private javax.swing.JLabel PersonalInfoLabel8;
    private javax.swing.JLabel PersonalInfoLabel9;
    private javax.swing.JTable Table4;
    private javax.swing.JButton btnSearch1;
    private javax.swing.JButton btn_view4;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JTextField txtbx_age;
    private javax.swing.JTextField txtbx_bloodgroup;
    private javax.swing.JTextField txtbx_contact;
    private javax.swing.JTextField txtbx_email;
    private javax.swing.JTextField txtbx_gender;
    private javax.swing.JTextField txtbx_height;
    private javax.swing.JTextField txtbx_id;
    private javax.swing.JTextField txtbx_name;
    private javax.swing.JTextField txtbx_search;
    private javax.swing.JTextField txtbx_weight;
    // End of variables declaration//GEN-END:variables
}
